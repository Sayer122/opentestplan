import React from 'react';
import styles from './Progress.module.css';

function ProgressBar({ progress, failed }) {
    const total = 100;
    const progressPercentage = Math.round(progress * total);
    const failedPercentage = Math.round(failed * total);

    const actualProgressPercentage = Math.min(progressPercentage, total);
    const actualFailedPercentage = Math.min(failedPercentage, total - actualProgressPercentage);

    return (
        <div className={styles.progressContainer} style={{ width: '100%', backgroundColor: '#ccc', position: 'relative' }}>
            {actualProgressPercentage > 0 && (
                <div className={styles.progressBar} style={{
                    width: `${actualProgressPercentage}%`,
                    backgroundColor: '#2e8f39',
                }}>
                    {actualProgressPercentage}%
                </div>
            )}
            {actualFailedPercentage > 0 && (
                <div className={styles.failedBar} style={{
                    width: `${actualFailedPercentage}%`,
                    backgroundColor: '#bf2b1f',
                    position: 'absolute',
                    left: `${actualProgressPercentage}%`
                }}>
                    {actualFailedPercentage}%
                </div>
            )}
        </div>
    );
}

export default ProgressBar;
